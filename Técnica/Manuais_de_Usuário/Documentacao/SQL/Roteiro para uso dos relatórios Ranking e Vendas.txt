PASSO 1 - 
VERIFICAR SE EXISTEM OS CAMPOS: IS_VENDA, IS_NOTAFISCAL E IS_ORCAMENTO NA TABELA VENDAS. 
SE EXISTIREM PULE PARA O PASSO 3 SE NÃO VÁ PARA O PASSO 2.

PASSO 2 - 
VERIFICAR SE EXISTEM OS CAMPOS: IS_FATURAMENTO, IS_PEDIDO E IS_NOTA FISCAL NA TABELA VENDAS.
SE EXISTIREM PULE PARA O PASSO 2.1 SE NÃO PULE PARA O PASSO 2.2

PASSO 2.1 -
ALTER TABLE VENDA 
ALTER COLUMN IS_FATURAMENTO TO IS_VENDA;
ALTER TABLE VENDA 
ALTER COLUMN IS_PEDIDO TO IS_ORCAMENTO;

PASSO 2.2 - 
ALTER TABLE VENDA
ADD IS_VENDA CHAR(1),
    IS_NOTAFISCAL CHAR (1),
	IS_ORCAMENTO CHAR(1);

PASSO 3 -
VINCULAR TODOS OS TIPOS DE VENDA A UM MODELO DE TIPO DE VENDA MANUALMENTE;

PASSO 4 -
EXECUTAR O SEGUINTE SCRIPT:
UPDATE VENDA V SET
V.IS_ORCAMENTO = 'S', 
V.IS_VENDA = NULL , 
V.IS_NOTAFISCAL = NULL 
WHERE (V.VENDA_TIPO = (SELECT VT.DESCRICAO FROM VENDA_TIPO VT WHERE (V.VENDA_TIPO = VT.DESCRICAO) AND ((VT.MODELO = 'COTACAO')OR(VT.MODELO = 'ORCAMENTO')))) ;
UPDATE VENDA V SET 
V.IS_ORCAMENTO = NULL, 
V.IS_VENDA =  'S', 
V.IS_NOTAFISCAL = NULL
WHERE (V.VENDA_TIPO = (SELECT VT.DESCRICAO FROM VENDA_TIPO VT WHERE (V.VENDA_TIPO = VT.DESCRICAO) AND (VT.MODELO = 'VENDA')));
UPDATE VENDA V SET
V.IS_NOTAFISCAL = 'S',
V.IS_ORCAMENTO = NULL, 
V.IS_VENDA =  NULL
WHERE (V.VENDA_TIPO = (SELECT VT.DESCRICAO FROM VENDA_TIPO VT WHERE (V.VENDA_TIPO = VT.DESCRICAO) AND (VT.MODELO = 'NOTA FISCAL')));
UPDATE VENDA V SET
V.IS_NOTAFISCAL = 'S'
WHERE NOT (V.NOTAFISCAL IS NULL) AND (V.VENDA_TIPO = (SELECT VT.DESCRICAO FROM VENDA_TIPO VT WHERE (V.VENDA_TIPO = VT.DESCRICAO) AND (VT.MODELO = 'VENDA'))) ;

PASSO 5 -
VERIFICAR CAMPO STATUS DA TABELA VENDA. 
CASO REGISTRO SEJA DIFERENTE DE 'ATIVO', 'ATIVO AGRUPADO', 'INATIVO CANCELADO', 'INATIVO EXCLUÍDO' 
OU OUTRO TIPO COM 'ATIVO' OU 'INATIVO' COMO PREFIXO, ANALISAR EXECUTAR UPDATE ABAIXO, CONFORME O STATUS ENCONTRADO EM CADA TABELA.
EXEMPLO: Substituir Status "Pagamento" por "INATIVO EXCLUIDO"
UPDATE VENDA V SET V.STATUS = 'INATIVO EXCLUIDO'
WHERE V.STATUS = 'Pagamento'



PARA CONFERENCIA DOS RELATORIOS AFIM DE TER CERTEZA QUE O VALOR NO RELATORIO ESTÁ CORRETO, O MESMO DEVE SER COMPARADO A NOVA TELA DE CONSULTA DE VENDAS ONDE EXISTE O FILTRO: VENDAS - ORCAMENTO - NOTAFISCAL.





